# Head 管理

开箱即用，Nuxt 为 meta 标签的 `charset` 和 `viewport` 提供了很好的默认值，同时如果需要你可以覆盖这些值，也可以使用多种方式为你的网站设置这些 meta 标签。

:ReadMore{link="/api/configuration/nuxt.config#head"}

## `useHead` 组合项

可以在`setup` 函数中调用 `useHead`，这个函数接收一个meta属性的标签:`title`，`titleTemplate`,`base`, `script`, `style`, `meta`, `like` 以及 `htmlAttrs` 和 `bodyAttrs`,还有两个速记属性 `charset` 和`viewport`，来设置相应的meta标签。或者为了响应式meta数据你可以个穿一个返回对象的函数。


例如:

```vue
<script setup>
useHead({
  title: 'My App',
  // or, instead:
  // titleTemplate: (title) => `My App - ${title}`,
  viewport: 'width=device-width, initial-scale=1, maximum-scale=1',
  charset: 'utf-8',
  meta: [
    { name: 'description', content: 'My amazing site.' }
  ],
  bodyAttrs: {
    class: 'test'
  }
})
</script>
```

::ReadMore{link="/api/composables/use-head"}
::

## title 模版

你可以使用 `titleTemplat` 选项来提供一个动态模版，用来自定义站点的标题，例如把站定名称添加到每个页面中。

`titleTmplate`选项即可以是一个字符串 其中`%s` 会被替换成标题，或者是一个函数，如果你想使用一个函数（为了完全控制）。那么不能在 `nuxt.config`中设置，建议你在 `app.vue`文件中添加，它将应用于你站点上的所有页面。

```vue [app.vue]
<script setup>
  useHead({
    titleTemplate: (titleChunk) => {
      return titleChunk ? `${titleChunk} - Site Title` : 'Site Title';
    }
  })
</script>
```

现在，如果你在你的站点的另一个页面上使用`userHead` 把标题设置成 `My Page`，这个标题会在浏览器的选项卡上展示为 'My Page - Site Title',你也可以传递，'undefined' 来设置默认站点标题。



## Meta 组件

Nuxt 提供了`<Title>`, `<Base>`, `<Script>`, `<Style>`, `<Meta>`, `<Link>`, `<Body>`, `<Html>`  `<Head>`组件，以便你可以直接在组件模版中设置meta数据。
因为这些组件的名称和原始HTML元素一样，不用忘了在模版中把首字母大写。

出于门馆的原因，`<Head>` `<Body>` 可以接受嵌套的meta标记，但这对嵌套的元标记最终在HTML中的展现没有影响；

例如:

<!-- @case-police-ignore html -->

```vue{}[app.vue]
<script setup>
const title = ref('Hello World')
</script>

<template>
  <div>
    <Head>
      <Title>{{ title }}</Title>
      <Meta name="description" :content="title" />
      <Style type="text/css" children="body { background-color: green; }" />
    </Head>

    <h1>{{ title }}</h1>
  </div>
</template>
```

## 例子: 使用 definePageMeta

在你的`pages/` 目录中，你可以使用 `definePageMeta` 和 `useHead` 根据当前的路由来设置meta数据。
例如，你可以先设置当前页面的title (这是在构建时通过宏来踢去的，所以不支持动态设置)

```vue{}[pages/some-page.vue]
<script setup>
definePageMeta({
  title: 'Some Page'
})
</script>
```
然后在布局文件中，可以使用前面路由中设置的路由元数据

```vue{}[layouts/default.vue]
<script setup>
const route = useRoute()

useHead({
  meta: [{ name: 'og:title', content: `App Name - ${route.meta.title}` }]
})
</script>
```

:LinkExample{link="/examples/composables/use-head"}

:ReadMore{link="/guide/directory-structure/pages/#page-metadata"}
