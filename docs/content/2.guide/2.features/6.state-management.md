# çŠ¶æ€ç®¡ç†

Nuxt 3 æä¾›äº† `useState` ç»„åˆé¡¹ï¼Œåˆ›å»ºè·¨ç»„ä»¶çš„å“åº”å¼å’ŒSSRå‹å¥½çš„å…±äº«çŠ¶æ€ã€‚

`useState` æ˜¯ä¸€ç§SSR å‹å¥½çš„ï¼Œå¯æ›¿æ¢[`ref`](https://vuejs.org/api/reactivity-core.html#ref) ã€‚å®ƒçš„å€¼å°†åœ¨æœåŠ¡ç«¯æ¸²æŸ“åï¼ˆåœ¨å®¢æˆ·ç«¯èµ·ä½œç”¨åï¼‰ä¿ç•™ï¼Œå¹¶ä½¿ç”¨å”¯ä¸€çš„key åœ¨ç»„ä»¶ä¹‹é—´å…±äº«ã€‚

::ReadMore{link="/api/composables/use-state"}
::

::alert{icon=ğŸ‘‰}
`useSate` åªèƒ½åœ¨ `setup` æˆ–è€…[`å£°æ˜å‘¨æœŸé’©å­å‡½æ•°`](https://vuejs.org/api/composition-api-lifecycle.html#composition-api-lifecycle-hooks)ä¸­ä½¿ç”¨ã€‚
::

## æœ€ä½³å®è·µ

::alert{type=danger icon=ğŸš¨}
ä¸è¦åœ¨`<script setup>`æˆ–è€…`setup()`å‡½æ•°ä¹‹å¤–å®šä¹‰`const state = ref()`<br>
è¿™æ ·çš„çŠ¶æ€ä¼šåœ¨è®¿é—®ä½ ç½‘ç«™çš„æ‰€æœ‰ç”¨æˆ·ä½¿ç”¨ï¼Œå¹¶ä¸”ä¼šå¯¼è‡´å†…å­˜æ³„æ¼ï¼
::
::alert{type=success icon=âœ…}
åº”è¯¥ä½¿ç”¨ `const useX = () => useState('x')`
::

## ä¾‹å­

### åŸºæœ¬ç”¨æ³•

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ç»„ä»¶å±€éƒ¨è®¡æ•°å™¨çŠ¶æ€ï¼Œä½¿ç”¨`useStateï¼ˆ'counter'ï¼‰`çš„ä»»ä½•å…¶ä»–ç»„ä»¶å…±äº«ç›¸åŒçš„å“åº”çŠ¶æ€ã€‚

```vue [app.vue]
<script setup>
const counter = useState('counter', () => Math.round(Math.random() * 1000))
</script>

<template>
  <div>
    Counter: {{ counter }}
    <button @click="counter++">
      +
    </button>
    <button @click="counter--">
      -
    </button>
  </div>
</template>
```

:LinkExample{link="/examples/composables/use-state"}

::ReadMore{link="/api/composables/use-state"}
::

### è¿›é˜¶

åœ¨æœ¬ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†ä¸€ä¸ªå¯ç»„åˆç¨‹åºï¼Œè¯¥ç¨‹åºä»httpè¯·æ±‚å¤´ä¸­æ£€æµ‹ç”¨æˆ·çš„locleä¿¡æ¯ï¼Œå¹¶ä¸”ä¿å­˜åˆ°`local`ä¸­ã€‚

:LinkExample{link="/examples/other/locale"}

## å…±äº«çŠ¶æ€

é€šè¿‡ä½¿ç”¨[auto-imported ç»„åˆé¡¹](/guide/directory-structure/composables)æˆ‘ä»¬å¯ä»¥å®šä¹‰å®‰å…¨çš„æ•°æ®çŠ¶æ€ï¼Œå¹¶åœ¨åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨å®ƒä»¬ã€‚

```ts [composables/states.ts]
export const useCounter = () => useState<number>('counter', () => 0)
export const useColor = () => useState<string>('color', () => 'pink')
```

```vue [app.vue]
<script setup>
const color = useColor() // Same as useState('color')
</script>

<template>
  <p>Current color: {{ color }}</p>
</template>
```
