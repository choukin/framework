---
icon: IconDirectory
title: 'layouts'
head.title: 布局目录
---

# 布局目录

Nuxt 提供了一个可自定义的布局框架，你可以在整个应用程序中使用，非常适合踢去常见UI或代码块，到可复用的布局组件中。


布局放置在`layouts/`目录中，使用时将自动通过异步方式导入。布局通过在`app.vue`中添加`<Nuxtlayout>` 来使用，并将`layout`属性设置为页面元数据的一部分（如果你使用`～/pages`集成）或者通过手动指定`<NuxtLayout>`属性，（**注意**:布局的名称规范为驼峰，所以`someLayout`会变为`some-layout`）

如果你的项目中只有一个布局，我们推荐使用[app.vue](/guide/directory-structure/app)


::alert{type=warning}
不同于其他组件，布局必须有一个单独的根元素，以允许Nuxt 在布局变化时使用过渡动画，并且这个根元素不能时一个 `<slot/>`
::

## 启用默认布局

添加一个  `~/layouts/default.vue`:

```vue [layouts/default.vue]
<template>
  <div>
    Some default layout shared across all pages
    <slot />
  </div>
</template>
```

在布局文件中，布局文件的内容会加载到`<slot/>` 中，而不是使用特殊组件。

如果你使用`app.vue` 你同意需要添加`<NuxtLayout>`:


```vue [app.vue]
<template>
  <NuxtLayout>
    some page content
  </NuxtLayout>
</template>
```

## 设置其他布局

```bash
-| layouts/
---| default.vue
---| custom.vue
```

你可以直接这样覆盖默认布局：

```vue{}[app.vue]
<template>
  <NuxtLayout :name="layout">
    <NuxtPage />
  </NuxtLayout>
</template>

<script setup>
// You might choose this based on an API call or logged-in status
const layout = "custom";
</script>
```

或者你可以在每个页面中通过配置覆盖默认布局：

::code-group

```vue{}[pages/index.vue]
<script>
// This will also work in `<script setup>`
definePageMeta({
  layout: "custom",
});
</script>
```

```vue{}[app.vue]
<template>
  <NuxtLayout>
    <NuxtPage />
  </NuxtLayout>
</template>
```

```vue [layouts/custom.vue]
<template>
  <div>
    Some *custom* layout
    <slot />
  </div>
</template>
```

```vue [layouts/default.vue]
<template>
  <div>
    A *default* layout
    <slot />
  </div>
</template>
```

::

::alert{type=info}
了解跟多关于[定义页面meta标记](/guide/directory-structure/pages#page-metadata)
::

## 动态修改布局

可以通过ref或计算属性来修改布局。

```vue
<template>
  <div>
    <button @click="enableCustomLayout">Update layout</button>
  </div>
</template>

<script setup>
const route = useRoute()
function enableCustomLayout () {
  route.meta.layout = "custom"
}
definePageMeta({
  layout: false,
});
</script>
```

:LinkExample{link="/examples/routing/layouts"}

## 基于每个页面覆盖布局

如果你集成了`~/pages`, 你可以通过`layout:false` 和 `<NuxtLayout>`组件来实现完全控制。


::code-group

```vue [pages/index.vue]
<template>
  <div>
    <NuxtLayout name="custom">
      <template #header> Some header template content. </template>

      The rest of the page
    </NuxtLayout>
  </div>
</template>

<script setup>
definePageMeta({
  layout: false,
});
</script>
```

```vue [layouts/custom.vue]
<template>
  <div>
    <header>
      <slot name="header">
        Default header content
      </slot>
    </header>
    <main>
      <slot />
    </main>
  </div>
</template>
```

::

::alert{type=warning}
如果你在页面中使用 `<NuxtLayout>`，需要确定它不是根元素（或者禁用页面过渡动画）。
::
