---
icon: IconDirectory
title: 'composables'
head.title: 组合项目录
---

# 组合项目录

Nuxt 3支持 `composables/`目录通过[`aauto-imports`](/guide/concepts/auto-imports)来自动将Vue的组合项导入到Nuxt应用程序中。


## 文件是如何被扫描的

Nuxt 只对`composables/`目录顶级文件（或目录结果中的index文件）进行扫描。


实力:

```bash
composables
 | - useFoo.ts // 扫描
 | - useBar
 | --- supportingFile.ts // 不扫描
 | --- index.ts // 扫描
```

只有 `useFoo.ts` 和 `useBar/index.ts` 会被扫描成导入文件，并且如果后者是默认导出，他会被注册成 `useBar` 而不是 `index`.


想要导出`useBar/supportingFile.ts`,你必须从 `useBar/index.ts`文件中重新导出。

```js [composables/useBar/index.ts]
export const useBar = () => {
}

// Enables auto import for this export
export { useBaz } from './supportingFile'
```

::alert{type=warning}
自动生成导入，不适用于 `export * from './supportingFile.ts'`，你必须使用具名导出或者默认导出。
::


在后台，Nuxt 自动生成 `.nuxt/auto-imports.d.ts` 来声明类型。

请注意，为了让Nuxt 生成类型文件，你必须执行`nuxi prepare`  `nuxi dev` 或者`nuxi build`.如果你在没有运行dev服务的情况下创建组合项，typescript 会抛出一个错误`Cannot find name 'useBar'`.

## 例: (使用具名导出)

```js [composables/useFoo.ts]
export const useFoo = () => {
  return useState('foo', () => 'bar')
}
```

## 例: (使用默认导出)

```js [composables/use-foo.ts or composables/useFoo.ts]
// It will be available as useFoo() (camelCase of file name without extension)
export default function () {
  return useState('foo', () => 'bar')
}
```

现在可以自动导入这个组合项：

```vue [app.vue]
<template>
  <div>
    {{ foo }}
  </div>
</template>

<script setup>
const foo = useFoo()
</script>
```

:LinkExample{link="/examples/auto-imports/composables"}
